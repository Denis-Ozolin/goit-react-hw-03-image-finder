{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["Searchbar","state","inputValue","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","resetState","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","images","onClick","map","id","largeImageURL","webformatURL","tags","src","alt","Loader","Button","btnName","Modal","url","App","currentPage","searchQuery","isLoading","error","largeImgUrl","apiSettings","BASE_URL","KEY","onChangeQuery","query","fetchImages","axios","get","then","data","prevState","hits","onScrollPage","catch","finally","window","scrollTo","top","document","documentElement","scrollHeight","behavior","openModal","closeModal","handleKeyDown","code","handleBackdropClick","target","addEventListener","removeEventListener","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.31ed62d3.chunk.js","sourcesContent":["import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n\r\n  state = {\r\n    inputValue: ''\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ inputValue: e.currentTarget.value });\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.resetState();\r\n  }\r\n\r\n  resetState = () => {\r\n    this.setState({ inputValue: '' });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n          <input\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n      </form>\r\n    </header>\r\n  )\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Searchbar;","const ImageGallery = ({ children }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {children}\r\n  </ul>\r\n)\r\n\r\nexport default ImageGallery;","import PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ images, onClick }) => (\r\n  images.map(({id, largeImageURL, webformatURL, tags}) => (\r\n    <li key={id} className=\"ImageGalleryItem\" onClick={() => onClick(largeImageURL)}>\r\n      <img src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  ))\r\n)\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default ImageGalleryItem;","const Loader = () => (\r\n  <div className=\"loader\">\r\n    <div className=\"wrap\">        \r\n      <div className=\"ball ball-1\"></div>\r\n      <div className=\"ball ball-2\"></div>\r\n      <div className=\"ball ball-3\"></div>\r\n      <div className=\"ball ball-4\"></div>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default Loader;","import PropTypes from 'prop-types';\r\n\r\nconst Button = ({ btnName, onClick }) => (\r\n  <button type=\"button\" className=\"Button\" onClick={onClick}>{btnName}</button>\r\n)\r\n\r\nButton.propTypes = {\r\n  btnName: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Button;","import PropTypes from 'prop-types';\r\n\r\nconst Modal = ({ url, onClick }) => (\r\n  <div className=\"Overlay\" onClick={onClick}>\r\n    <div className=\"Modal\">\r\n      <img src={url} alt=\"\"/>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nModal.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Modal;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\nimport Loader from './components/Loader/Loader';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    largeImgUrl: '',\n  }\n\n  apiSettings = {\n    BASE_URL: 'https://pixabay.com/api/',\n    KEY: '20731913-04720c2299aa0ca3b12520f7d',\n  }\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    })\n  }\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const { BASE_URL, KEY } = this.apiSettings;\n\n    this.setState({isLoading: true})\n\n    axios.get(`${BASE_URL}?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n      .then(({data}) => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...data.hits],\n          currentPage: prevState.currentPage + 1,\n        }))\n        if(currentPage > 1)this.onScrollPage();\n      })\n      .catch(error => this.setState({error}))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  onScrollPage = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  openModal = (url) => {\n    this.setState({largeImgUrl: url})\n  }\n\n  closeModal = () => (\n    this.setState({largeImgUrl: ''})\n  )\n\n  handleKeyDown = e => {\n    if (e.code === \"Escape\") {\n      this.closeModal();\n    }\n  }\n  \n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) this.closeModal();\n  }\n\n  render() {\n    const { images, isLoading, largeImgUrl } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery children>\n          <ImageGalleryItem images={images} onClick={this.openModal}/>\n        </ImageGallery>\n        {isLoading && <Loader/>}\n        {images.length && !isLoading ? <Button btnName={\"Load more\"} onClick={this.fetchImages} /> : null}\n        {largeImgUrl && <Modal url={largeImgUrl} onClick={this.handleBackdropClick}/>}\n      </>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './style.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}